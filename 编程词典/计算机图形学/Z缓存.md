# Z缓存

Z缓存（Z-buffer），也称深度缓存（Depth buffer）或深度缓冲区，是一种图像渲染技术，是利用Z值的比较进行可视化处理的一种超快的、优秀的计算机图形学技术。它通过一种隐藏表面深度排序的技术，能够在不考虑透视等不同情况下，消除图像中的隐藏面。Z缓存一般用来控制可见性，即区分物体的前后顺序，将前景物体覆盖在背景物体之上。

Z缓存由一个深度缓存和一个帧缓存构成，其中帧缓存用来存储颜色信息，深度缓存则存储像素的深度值。在渲染每个像素点时，需要将该像素的深度值与已存储在深度缓存的值进行比较，并将深度值较小者存储下来。如果当前像素点深度值大于深度缓存中对应像素点的深度值，则说明该像素点被遮挡，不绘制该点。如果深度相等，则说明两者在同一平面，按照程序所设定的选择规则来绘制。

在渲染图片时，通常需要进行大量的三角形与三角形之间的深度比较，这是非常耗时的。因此，使用Z缓存技术可以快速消除图像中的隐藏面，提高了图像渲染的效率。虽然Z缓存已经是一个相对“传统”的技术了，但是在当前的实时渲染中，它仍然起着非常重要的作用，是一个必不可少的过程。