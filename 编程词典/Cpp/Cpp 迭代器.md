# 迭代器

在 C++ 中，容器是一种常用的数据结构，它们往往需要对其内部元素进行访问、插入或删除操作。而迭代器就是实现对容器中元素进行遍历、存取、删除和添加等操作的重要工具。因此，深入理解迭代器的概念与使用方法，可以为我们更加高效地操作 STL 容器提供便利。

## 什么是迭代器？

迭代器是一种用于实现 C++ STL 容器中数据遍历并进行操作的工具，它本质上是一种抽象的数据类型。可以将迭代器看作是一个指针，它指向容器中的一个元素，可以通过它来遍历容器中的元素，在每个元素之间移动。和指针类似，迭代器提供了一系列的运算符操作，用于访问元素、指向下一个元素、比较等操作。

## 迭代器的分类

迭代器根据不同的使用方式和支持的操作，可分为以下种类：

### 输入迭代器

输入迭代器用于遍历 STL 容器，仅支持单向遍历，只能读取容器中的元素，且每个元素只能被读取一次。它们的主要作用是读取容器中的元素，比如在输入流中读取数据。

### 输出迭代器

输出迭代器用于将数据写入 STL 容器或者其他位置，同样仅支持单向遍历，每个元素只能被写入一次。它们的主要作用是往容器中写入数据，比如在输出流中写入数据。

### 前向迭代器

前向迭代器支持单向遍历，可以遍历容器中的所有元素，但只能进行一次遍历。它们的主要作用是遍历容器中的所有元素。

### 双向迭代器

双向迭代器支持双向遍历，可以向前或向后遍历 STL 容器的所有元素，是前向迭代器的升级版。双向迭代器的主要作用是支持双向访问，更方便地遍历容器中的元素。

### 随机访问迭代器

随机访问迭代器支持随机访问 STL 容器中的元素，可以进行随机访问、算术运算等操作，是双向迭代器的升级版。在所有迭代器中，随机访问迭代器的功能最为强大，它可以任意移动、任意访问容器中的元素，效率也是最高的。

## 迭代器的使用

迭代器可以与各种 STL 容器一起使用，例如 vector、list、set、map 等等。我们可以利用容器中定义的迭代器类型来创建迭代器，并利用迭代器来遍历容器中的元素，并进行其他操作。

例如，我们定义了一个包含 10 个元素的 vector 容器，如下所示：

```cpp
std::vector<int> myvector;
for (int i = 1; i <= 10; i++) {
	myvector.push_back(i * 10);
}
```

要使用迭代器来遍历这个 vector 容器，首先需要定义一个迭代器变量并将其初始化为指向容器中第一个元素的迭代器，如下所示：

```cpp
std::vector<int>::iterator it = myvector.begin();
```

接下来可以通过遍历迭代器来依次访问容器中的每个元素，并进行其他操作，比如将所有元素乘以 2 并输出：

```cpp
while (it != myvector.end()) {
	*it *= 2;
	std::cout << *it << " ";
	it++;
}
```

## 总结

迭代器是 STL 容器的一个重要工具，通过迭代器可以方便地遍历、存取、删除或添加容器中的元素。迭代器可以根据支持的操作和使用特点，分为输入迭代器、输出迭代器、前向迭代器、双向迭代器、随机访问迭代器等各种类型。熟练掌握迭代器的使用方式和相关操作，可以极大地提高 STL 容器的使用效率。