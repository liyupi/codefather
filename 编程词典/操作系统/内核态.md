# 内核态

在计算机中有两种不同的特权级别：**用户态**和**内核态**。内核态（也称“操作系统态”或“特权态”）是计算机处理器运行在最高特权级别的一种状态。在内核代码执行期间，可以访问计算机的所有硬件和所有内存，这使得内核可以执行非常底层和强大的操作，例如管理进程、访问硬件和执行系统调用。

与之相反，用户态是指程序运行在最低特权级别的一种状态。在用户态下，程序不能直接访问计算机的硬件和内存资源，需要通过操作系统提供的接口来请求相关资源的访问权限。例如，一个运行在用户态下的程序如果想要访问硬件资源，就需要向操作系统发出 I/O 请求，由操作系统转换为对硬件的控制命令，最终使得程序可以访问硬件。

因为内核的代码运行在最高特权级别，所以它拥有比用户态更广泛的权限，能够访问和操作计算机的所有资源。然而，需要注意的是，内核的强大能力也是有代价的。如果内核出现了错误，整个系统都有可能崩溃。因此，内核代码需要经过严格的测试和质量控制，才能够部署在生产环境中。

在现代操作系统中，内核态和用户态是通过硬件来实现的。处理器通过特殊的模式切换指令，使得计算机可以在内核态和用户态之间切换。具体来说，在处理器从用户态切换到内核态时，硬件会自动保存用户态下处理器的状态，然后加载内核态下的处理器状态，使得内核代码得以执行。