# SMTP协议

SMTP（Simple Mail Transfer Protocol），即简单邮件传输协议，是目前互联网上使用的邮件传送的主要协议之一。

一封邮件的发送需要经历三个阶段：建立连接、传送邮件、关闭连接。SMTP协议就是为了实现这个过程而被设计出来的。

在传送邮件之前，发送方必须先建立与接收方的SMTP服务器之间的TCP连接。SMTP默认使用的端口是25号端口。建立连接之后，发送方才能向接收方的SMTP服务器发送邮件。

发送邮件的过程中，SMTP定义了若干个命令，这些命令用于发送或者接收与邮件传输相关的信息。这些命令包括 HELO、MAIL、RCPT、DATA、QUIT 等等，命令的运行顺序和参数非常重要。

SMTP协议的发送方式通常是前两个阶段通过明文传输，而真正传送的邮件数据则使用 base64 编码后在 MIME 格式下进行封装。并且SMTP只负责邮件的传输，不负责邮件的查看。

尽管SMTP协议已经有20多年的历史了，但由于其在日常生活和工作中的广泛应用，协议本身的安全性和实用性仍受到了高度评价。事实上，Internet上所有邮件的发送和传输，都离不开SMTP协议。