# 默克尔树

默克尔树（Merkle Tree）又称为哈希树（Hash Tree），是一种数据结构，可以高效地验证大型数据集中若干条数据是否存在，同时保护数据不被篡改。默克尔树把要验证的数据分别哈希，构造成一颗二叉树结构，树的最后一层叶子节点就是数据原本。

大家可能会想，这有什么用处呢？其实，当我们在使用区块链时，为了保证交易的可靠性，需要使用默克尔树。比如，比特币区块链就使用了默克尔树来验证区块中的所有交易。

举个例子，假设我们有 A、B、C、D 四笔交易数据。首先，对每个交易哈希运算，产生哈希值。然后，把相邻的两个哈希值两两结合，再执行一次哈希运算，生成新的哈希值。把新的哈希值向上级传递，结合它的上一个节点的哈希值，再次执行哈希运算，直至生成根节点的哈希值。这就构成了一颗默克尔树。

如果我们验证某笔交易是否存在于这个数据集中，只需要顺着根节点开始，向下找到对应的叶子节点，然后验证这个叶子节点的哈希值和我们之前计算出来的该笔交易的哈希值是否相同。如果相同，则说明该笔交易是合法的，否则就是非法的。

默克尔树不仅能够快速验证数据的完整性和安全性，而且还可以节省存储空间。当我们需要对大量数据进行哈希操作时，使用默克尔树能够大大减少计算量和所需存储空间，利用默克尔树的优势在区块链中得到了广泛的应用。