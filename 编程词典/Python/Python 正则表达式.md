# 正则表达式

正则表达式是处理文本的强大工具，通过一系列特定的字符和语法，可以用来匹配、查找、替换字符串等操作。在 Python 中，我们可以使用 re 模块来调用正则表达式的相关函数。

## 正则表达式语法

正则表达式的语法相当丰富，这里只介绍一些最基本的语法规则。

### 基本元字符

元字符 | 作用
---- | ----
. | 匹配除 `\n` 外的任意字符。
^ | 匹配字符串开头。
$ | 匹配字符串结尾。
[] | 匹配括号内的任意字符。
|  | 或，匹配 `|` 左右两边任意一个表达式。
()  | 分组，通常与 `|` 连用。
\   | 转义，用于匹配元字符本身。

### 重复元字符

元字符 | 作用
---- | ----
*  | 重复零次或更多次。
+  | 重复一次或更多次。
?  | 重复零次或一次。
{n} | 重复 n 次。
{n,} | 重复 n 次或更多次。
{n,m} | 重复 n 到 m 次。

### 字符类

字符类表示一组字符，使用方括号括起来。其中方括号内的字符是可选的并表示字符组中的一个字符。

例如：

[abc] 匹配字符『a』、『b』、『c』

[a-zA-Z] 匹配所有字母

[0-9] 匹配所有数字

[^a] 表示匹配除了字符『a』以外的任意字符

### 特殊字符类

字符类 | 作用
---- | ----
\w  | 匹配任意一个单词字符，包括字母、数字、下划线。
\W  | 匹配任意一个非单词字符。
\s  | 匹配任意一个空白字符，包括空格、制表符、换行符等。
\S  | 匹配任意一个非空白字符。
\d  | 匹配任意一个数字。
\D  | 匹配任意一个非数字字符。

### 贪婪匹配

正则表达式的默认匹配方式是贪婪匹配，即在满足匹配规则的前提下尽可能地匹配更多的字符。

例如：

文本：'aabaabaa'

正则表达式：'a.*a'

匹配结果：'aabaa'

这里的 `.*` 是贪婪匹配，尽可能匹配更多的字符。

### 非贪婪匹配

为了避免贪婪匹配，我们可以使用非贪婪匹配。在重复元字符后面添加 `?` 即可。

例如：

文本：'aabaabaa'

正则表达式：'a.*?a'

匹配结果：'aabaa'

这里的 `.*?` 是非贪婪匹配，尽可能匹配更少的字符。

## re 模块的使用

在 Python 中，我们可以通过 re 模块对正则表达式进行调用。re 模块提供了许多函数，常用的函数有：

函数 | 功能
--- | ----
search(pattern, string, flags=0) | 在字符串中查找匹配项。
match(pattern, string, flags=0)  | 从字符串开头开始匹配。
findall(pattern, string, flags=0) | 查找字符串中所有匹配项。
sub(pattern, repl, string, count=0, flags=0) | 在字符串中替换匹配项。

下面是一个简单的例子：

```python
import re

text = 'Beautiful is better than ugly'

result = re.search(r'beautiful', text, re.IGNORECASE)
print(result.group())
```

这段代码用于在变量 `text` 中查找单词 'beautiful'，并忽略大小写。最后结果输出 'Beautiful'。