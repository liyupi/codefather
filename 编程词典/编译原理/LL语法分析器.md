# LL语法分析器

在编译原理中，LL语法分析器是非常常见且重要的语法分析工具。它是一种自顶向下的语法分析器，可以分析文法的结构，检查输入的程序是否符合所规定的语法。

LL语法分析器有很多优点，其中最为突出的优点是它的效率佳，占用的空间小，代码简单易懂。在实际的编译过程中，很多编译器都会采用LL语法分析器的技术。

那么，LL语法分析器究竟是如何工作的呢？

LL分析器以输入串中的一个字符为起点，检查该字符所能推出（Parse）的规则然后选择其一进行推导，直到推导出输入串。LL分析器的关键在于选择下一个规则进行推导的过程。在每次选择规则进行推导时，LL分析器考虑的是**下一个字符**，而不是整个句子。这也是LL语法分析器名称“自顶向下”的根据。

另一方面，在LL语法分析器中，所有的规则都以相同的方式进行推导，这也称为“递归下降”解析器。递归下降解析器非常容易理解和调试，因为它们的主体结构和程序在代码中一一对应。同时，递归下降解析器可以处理的语言范围相对较小，即上下文无关文法。

例如，假设有以下文法：

```
E -> E+T | T
T -> T*F | F
F -> (E) | id
```

其中，E、T、F代表非终结符号，+、*、(、)、id代表终结符号。

如果输入串是“id+id*id”，那么LL语法分析器的处理流程如下：

首先需要选择一个规则进行推导，LL分析器采用查表的方法进行选择，即表格分析法，也被称作预测分析（Predictive Parsing）。该分析技术依据输入符号和栈顶未终止符来选择用于推导未终止符A的生产式。

- 首先，分析器从输入中读取”id”字符作为下一个字符，并检查该字符能够通过哪些规则进行推导。
- 分析器根据选择的规则 T -> F，注意到F可以推导出字符“id”，所以分析器将“id”推入到分析栈中。
- 接着，根据规则 F -> “id”，分析器会将“id”从分析栈中弹出，并查看输入中下一个字符。
- 发现下一个字符是“+”，于是分析器选择规则 E -> E+T 并将它推入分析栈中。
- 现在分析器需要查看输入串中的下一个字符，发现下一个字符是“id”，于是选择规则 F -> “id”，将其推入分析栈中并弹出“id”。
- 其后，根据规则 T -> F，将“id”推入到分析栈中。
- 然后，选择规则 E -> E+T，将T从分析栈中弹出，并将E+T推入到分析栈中。
- 最后，在分析栈中只剩下E+T，采用规则 T -> T*F，将F推入分析栈中。
- 根据规则 F -> “id”，将“id”推入到分析栈中。
- 最后采用规则 T -> T*F，并弹出两个元素。
- 最后采用规则 E -> E+T，并弹出两个元素。

最终成功分析输入字符串“id+id*id”。

总的来说，LL语法分析器是一种在编译原理领域中应用广泛的语法分析技术，其技术优点在于效率高、空间小、代码简单易懂。熟悉了它的工作原理和使用方法后，我们在编写编译器的时候，就可以更加轻松地进行语法分析的工作了。