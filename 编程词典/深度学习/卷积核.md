# 卷积核

卷积（Convolution）是深度学习中常用的一种运算方式，通过一个 filters（也叫核 kernel，权重 weights，卷积核 convolutional filter 等等名字）在数据上滑动来实现特征提取。卷积核的作用是对输入图像进行特征提取，从而为下一层生成更加有用的信息。

假设我们有一张 $28 \times 28$ 的图片，我们想要对它进行卷积操作。卷积核可以用 $3 \times 3$ 的矩阵来表示，它通过在图片上滑动来提取特征。我们以 $2 \times 2$ 的步幅来滑动卷积核，具体操作如下图所示：

![convolution.gif](https://images-cdn.shimo.im/sKIJJvYXq49Ye25N/convolution.gif)

这里我们以图中最后左边的三个像素为例来看一下投影计算 (Projection / convolution):

$$\operatorname{proj}( {\color{blue}(123) \choose (456) \choose (789)} , {\color{green} \begin{pmatrix} 1 & 0 & -1 \\ 1 & 0 & -1 \\ 1 & 0 & -1 \end{pmatrix} } ) = {-6 \choose 0}$$

其中，蓝色字体代表被卷积的数据，占据了 $3 \times 3$ 的空间，绿色的代表卷积核，也是 $3 \times 3$ 的。 计算方法是在蓝色和绿色方框之间的部分计算乘积和，也就是将两者对应位置上的数字相乘并相加。之后将计算结果汇总起来就得到了由此组成的卷积数据的值。在这里计算得到的结果是 $-6$，因此把它写在了右下角。我们之前提到了要用 $2 \times 2$ 步幅来滑动 kernel，所以我们可以在经过第一次卷积操作之后，向右滑动两位到达下一组输入。这样我们就完成了一次卷积操作，对应一个输出。在这个例子中，我们输出如下一个 $2 \times 2$ 矩阵，它是通过计算每个输入组的卷积结果得到的。

$$\begin{pmatrix} -6 & -6 \\ 6 & 6 \end{pmatrix}$$

这其实就是一次跨度为 $2$ 的 $3\times3$ 卷积。

卷积核的大小和数量都是可以学习和调整的参数，通过不断调整卷积核的权重，可以得到更加有针对性和高效的特征提取方法。常见的卷积核有 $1\times1$、$3\times3$、$5\times5$ 等。在卷积神经网络中，卷积核被广泛应用，处理图片分类、物品识别等任务时能取得不错的结果。