# ã€è®¾è®¡æ¨¡å¼ã€‘å‘½ä»¤æ¨¡å¼å…¥é—¨å®æˆ˜

> æœ¬æ–‡ä½œè€…ï¼š[ç¨‹åºå‘˜é±¼çš®](https://yuyuanweb.feishu.cn/wiki/Abldw5WkjidySxkKxU2cQdAtnah)
>
> æœ¬ç«™åœ°å€ï¼š[https://codefather.cn](https://codefather.cn)



## ä»€ä¹ˆæ˜¯å‘½ä»¤æ¨¡å¼ï¼Ÿ

å‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œæ ¸å¿ƒæ˜¯å°†æ¯ç§è¯·æ±‚æˆ–æ“ä½œå°è£…ä¸ºä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼Œä»è€Œå¯ä»¥é›†ä¸­ç®¡ç†è¿™äº›è¯·æ±‚æˆ–æ“ä½œï¼Œæ¯”å¦‚å°†è¯·æ±‚é˜Ÿåˆ—åŒ–ä¾æ¬¡æ‰§è¡Œã€æˆ–è€…å¯¹æ“ä½œè¿›è¡Œè®°å½•å’Œæ’¤é”€ã€‚

å‘½ä»¤æ¨¡å¼é€šè¿‡å°†è¯·æ±‚çš„å‘é€è€…ï¼ˆå®¢æˆ·ç«¯ï¼‰å’Œæ¥æ”¶è€…ï¼ˆæ‰§è¡Œè¯·æ±‚çš„å¯¹è±¡ï¼‰è§£è€¦ï¼Œæä¾›äº†æ›´å¤§çš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

å¬ä¸æ‡‚ä¸Šé¢è¿™å¥è¯å¾ˆæ­£å¸¸ï¼Œæˆ‘æ¥ä¸¾ä¸ªä¾‹å­ã€‚

æˆ‘ä»¬åœ¨ç”Ÿæ´»ä¸­éƒ½ç”¨è¿‡ç”µè§†æœºï¼Œ`æˆ‘ä»¬` å°±ç›¸å½“äºå®¢æˆ·ç«¯ï¼Œè¦æ“ä½œç”µè§†æ¥æ¢å°ï¼›è€Œ `ç”µè§†` å°±æ˜¯æ‰§è¡Œè¯·æ±‚çš„å¯¹è±¡ï¼Œè¦æ ¹æ®æˆ‘ä»¬çš„æ“ä½œæ¥æ¢å°ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥æŒ‰ç”µè§†ä¸Šçš„æŒ‰é’®æ¥æ¢å°ï¼Œè€Œæ˜¯ç”¨ä¸€ä¸ª `é¥æ§å™¨`ï¼Œé€šè¿‡ç‚¹å‡»é¥æ§å™¨ä¸Šçš„ `æ“ä½œæŒ‰é’®` æ¥æ§åˆ¶ç”µè§†ã€‚

è¿™æ ·å°±ç›¸å½“äºæŠŠæˆ‘ä»¬å’Œç”µè§†è§£è€¦äº†ã€‚å“ªæ€•é¥æ§å™¨ä¸¢äº†ï¼Œå†æ¢ä¸€ä¸ªé¥æ§å™¨å°±å¥½äº†ï¼›è€Œä¸”ç°åœ¨æ‰‹æœºéƒ½èƒ½ä½œä¸ºä¸‡èƒ½çš„ç”µè§†é¥æ§å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶é¥æ§å¤šä¸ªå“ç‰Œçš„è®¾å¤‡ï¼Œä¸ç”¨å…³å¿ƒè®¾å¤‡çš„å…·ä½“å“ç‰Œå‹å·ï¼Œæä¾›äº†æ›´å¤§çš„æ–¹ä¾¿ã€‚



## å‘½ä»¤æ¨¡å¼çš„ä¼˜ç‚¹å’Œåº”ç”¨åœºæ™¯

æ­£å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œå‘½ä»¤æ¨¡å¼æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯è§£è€¦è¯·æ±‚å‘é€è€…å’Œæ¥å—è€…ï¼Œè®©ç³»ç»Ÿæ›´åŠ çµæ´»ã€å¯æ‰©å±•ã€‚

ç”±äºæ¯ä¸ªæ“ä½œéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å‘½ä»¤ç±»ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ–°å¢å‘½ä»¤æ“ä½œæ—¶ï¼Œä¸éœ€è¦æ”¹åŠ¨ç°æœ‰ä»£ç ã€‚



å‘½ä»¤æ¨¡å¼å…¸å‹çš„åº”ç”¨åœºæ™¯ï¼š

- ç³»ç»Ÿéœ€è¦ç»Ÿä¸€å¤„ç†å¤šç§å¤æ‚çš„æ“ä½œï¼Œæ¯”å¦‚æ“ä½œæ’é˜Ÿã€è®°å½•æ“ä½œå†å²ã€æ’¤é”€é‡åšç­‰ã€‚
- ç³»ç»Ÿéœ€è¦æŒç»­å¢åŠ æ–°çš„å‘½ä»¤ã€æˆ–è€…è¦å¤„ç†å¤æ‚çš„ç»„åˆå‘½ä»¤ï¼ˆå­å‘½ä»¤ï¼‰ï¼Œä½¿ç”¨å‘½ä»¤æ¨¡å¼å¯ä»¥å®ç°è§£è€¦ã€‚



## å‘½ä»¤æ¨¡å¼çš„è¦ç´ å’Œå®ç°

é€šè¿‡ä¸Šé¢ç”¨æˆ·ä½¿ç”¨é¥æ§å™¨æ¥æ“ä½œç”µè§†æœºè®¾å¤‡çš„ä¾‹å­ï¼Œå¸¦å¤§å®¶ç†è§£å‘½ä»¤æ¨¡å¼çš„å…³é”®è¦ç´ å’Œå®ç°ä»£ç ã€‚



#### 1ï¼‰å‘½ä»¤

> ç›¸å½“äºé¥æ§å™¨æ“ä½œæŒ‰é’®çš„åˆ¶ä½œè§„èŒƒ



å‘½ä»¤æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»æˆ–æ¥å£ï¼Œå®ƒå®šä¹‰äº†æ‰§è¡Œæ“ä½œçš„æ–¹æ³•ï¼Œé€šå¸¸æ˜¯ `execute`ï¼Œè¯¥æ–¹æ³•å°è£…äº†å…·ä½“çš„æ“ä½œã€‚

ä»£ç å¦‚ä¸‹ï¼š

```java
public interface Command {
    void execute();
}
```



#### 2ï¼‰å…·ä½“å‘½ä»¤

> ç›¸å½“äºé¥æ§å™¨çš„æŸä¸ªæ“ä½œæŒ‰é’®



å…·ä½“å‘½ä»¤æ˜¯å‘½ä»¤æ¥å£çš„å…·ä½“å®ç°ç±»ï¼Œå®ƒè´Ÿè´£å°†è¯·æ±‚ä¼ é€’ç»™æ¥æ”¶è€…ï¼ˆè®¾å¤‡ï¼‰å¹¶æ‰§è¡Œå…·ä½“çš„æ“ä½œã€‚

æ¯”å¦‚å®šä¹‰ä¸€ä¸ªå…³é—­è®¾å¤‡å‘½ä»¤ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public class TurnOffCommand implements Command {
    private Device device;

    public TurnOffCommand(Device device) {
        this.device = device;
    }

    public void execute() {
        device.turnOff();
    }
}
```



è¿˜å¯ä»¥å®šä¹‰å¼€å¯è®¾å¤‡å‘½ä»¤ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public class TurnOnCommand implements Command {
    private Device device;

    public TurnOnCommand(Device device) {
        this.device = device;
    }

    public void execute() {
        device.turnOn();
    }
}
```



#### 3ï¼‰æ¥å—è€…

>  ç›¸å½“äºè¢«é¥æ§çš„è®¾å¤‡



æ¥æ”¶è€…æ˜¯æœ€ç»ˆæ‰§è¡Œå‘½ä»¤çš„å¯¹è±¡ï¼ŒçŸ¥é“å¦‚ä½•æ‰§è¡Œå…·ä½“çš„æ“ä½œã€‚

æ¯”å¦‚å®šä¹‰ä¸€ä¸ªè®¾å¤‡ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public class Device {
    private String name;

    public Device(String name) {
        this.name = name;
    }

    public void turnOn() {
        System.out.println(name + " è®¾å¤‡æ‰“å¼€");
    }

    public void turnOff() {
        System.out.println(name + " è®¾å¤‡å…³é—­");
    }
}
```



#### 4ï¼‰è°ƒç”¨è€…

> ç›¸å½“äºé¥æ§å™¨



ä½œç”¨æ˜¯æ¥å—å®¢æˆ·ç«¯çš„å‘½ä»¤å¹¶æ‰§è¡Œã€‚

æ¯”å¦‚å®šä¹‰é¥æ§å™¨ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public class RemoteControl {
    private Command command;

    public void setCommand(Command command) {
        this.command = command;
    }

    public void pressButton() {
        command.execute();
    }
}
```



ä»¥ä¸Šåªæ˜¯æœ€åŸºç¡€çš„è°ƒç”¨è€…ç±»ï¼Œè¿˜å¯ä»¥ç»™é¥æ§å™¨ç±»å¢åŠ æ›´å¤šèƒ½åŠ›ï¼Œæ¯”å¦‚å­˜å‚¨å†å²è®°å½•ã€æ’¤é”€é‡åšç­‰ã€‚



#### 5ï¼‰å®¢æˆ·ç«¯

> ç›¸å½“äºä½¿ç”¨é¥æ§å™¨çš„äºº



å®¢æˆ·ç«¯çš„ä½œç”¨æ˜¯åˆ›å»ºå‘½ä»¤å¯¹è±¡å¹¶å°†å…¶ä¸æ¥æ”¶è€…å…³è”ï¼ˆç»‘å®šè®¾å¤‡ï¼‰ï¼Œç„¶åå°†å‘½ä»¤å¯¹è±¡ä¼ é€’ç»™è°ƒç”¨è€…ï¼ˆæŒ‰é¥æ§å™¨ï¼‰ï¼Œä»è€Œè§¦å‘æ‰§è¡Œã€‚

ç¤ºä¾‹å®¢æˆ·ç«¯ä»£ç å¦‚ä¸‹ï¼š

```java
public class Client {
    public static void main(String[] args) {
        // åˆ›å»ºæ¥æ”¶è€…å¯¹è±¡
        Device tv = new Device("TV");
        Device stereo = new Device("Stereo");

        // åˆ›å»ºå…·ä½“å‘½ä»¤å¯¹è±¡ï¼Œå¯ä»¥ç»‘å®šä¸åŒè®¾å¤‡
        TurnOnCommand turnOn = new TurnOnCommand(tv);
        TurnOffCommand turnOff = new TurnOffCommand(stereo);

        // åˆ›å»ºè°ƒç”¨è€…
        RemoteControl remote = new RemoteControl();

        // æ‰§è¡Œå‘½ä»¤
        remote.setCommand(turnOn);
        remote.pressButton();

        remote.setCommand(turnOff);
        remote.pressButton();
    }
}
```



åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå‘½ä»¤æ¨¡å¼å°†é¥æ§å™¨æŒ‰é’®çš„æŒ‰ä¸‹æ“ä½œä¸å®é™…è®¾å¤‡çš„å¼€å…³æ“ä½œè§£è€¦ï¼Œä»è€Œå®ç°äº†çµæ´»çš„æ§åˆ¶å’Œå¯æ‰©å±•æ€§ã€‚

æ•´ä¸ªç¨‹åºçš„ UML ç±»å›¾å¦‚ä¸‹ï¼š

![](https://pic.yupi.icu/1/1700123927671-c4da0417-aa71-4b23-896e-c2b8d1978315.png)



## æ¨èå­¦ä¹ 

é±¼çš®ç‹¬ç«‹å¼€å‘çš„ yuindex ç½‘é¡µç»ˆç«¯é¡¹ç›®ï¼Œå°±æ˜¯ä»¥å‘½ä»¤æ¨¡å¼ä¸ºæ ¸å¿ƒå®ç°çš„ï¼Œå‰åç«¯åŒå­¦éƒ½å¯ä»¥å­¦ä¹ ï¼š[https://github.com/liyupi/yuindex](https://github.com/liyupi/yuindex)



## å®è·µ

ç¼–ç¨‹å¯¼èˆªçš„å®šåˆ¶åŒ–ä»£ç ç”Ÿæˆé¡¹ç›®å°±æ˜¯ä½¿ç”¨äº†å‘½ä»¤æ¨¡å¼æ¥å¼€å‘å‘½ä»¤è¡Œåº”ç”¨ã€‚

ğŸ‘‰ğŸ» ç¼–ç¨‹å¯¼èˆªåŸåˆ›é¡¹ç›®æ•™ç¨‹ç³»åˆ—ï¼š[https://yuyuanweb.feishu.cn/wiki/SePYwTc9tipQiCktw7Uc7kujnCd](https://yuyuanweb.feishu.cn/wiki/SePYwTc9tipQiCktw7Uc7kujnCd)
